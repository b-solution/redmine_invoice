<div>
  <%= image_tag 'logo.png', plugin: 'redmine_invoice', style: 'width: 100%; height: 150px;' %>
</div>

<% setting =  Setting.plugin_redmine_invoice %>
<p>
  <%= setting['company_name'] %> <br/>
  <%= setting['address'] %> <br/>
  <%= setting['email'] %> <br/>
  <%= setting['phone'] %> <br/>
</p>

<p>
  <% year = Date.today.year %>
  <b> Financial year :</b> <%= Date.today.month > 3 ? "#{year}-#{year+1}" : "#{year-1}-#{year}" %>
</p>
<p>
  <b> Invoice no :</b> <%= "##{@invoice.id}" %>
</p>
<p>
  <b> <%= "#{@invoice.created_at}" %> </b>
</p>

<br/>

<table>
  <tbody>
  <tr class="<%= cycle('odd', 'even') %>"><td>  To:                         </td></tr>
  <tr class="<%= cycle('odd', 'even') %>"><td>  <%= @client %>              </td></tr>
  <tr class="<%= cycle('odd', 'even') %>"><td>  <%= @client.home_address %> </td></tr>
  <tr class="<%= cycle('odd', 'even') %>"><td>  <%= @client.email %>        </td></tr>
  <tr class="<%= cycle('odd', 'even') %>"><td>  <%= @client.phone %>        </td></tr>
  </tbody>
</table>
<br/>
<table>
  <tbody>

  <tr class="<%= cycle('odd', 'even') %>">
    <td><b>Project </b></td>          <td><%= @invoice.project %></td>
  </tr>
  <tr class="<%= cycle('odd', 'even') %>">
    <td> <b>Contract value</b></td>   <td></td>
  </tr>
  <tr class="<%= cycle('odd', 'even') %>">
    <td> <b><%= l(:field_work_order_number) %></b></td>   <td> <%= @invoice.project.work_order_number %></td>
  </tr>

  </tbody>
</table>
<div style="float: right;cursor: pointer;">
  <span id="s1"> See part 2 </span>
  <span id="s2" hidden> See part 1 </span>
</div>
<div id="t1" hidden>
  <%= render partial: 'part_2' %>
</div>
<div id="t2">
  <%= render partial: 'part_1' %>
</div>


Authorized signature
<br/>
<br/>
<br/>
<br/>
<br/>
<%= setting['footer_info'].html_safe %>



<%= content_for :sidebar do %>
 <%= render partial: 'sidebar' %>
<% end %>
<script>
  $(function(){
    $('#s1').on('click', function(){
      $('#t1').show(500)
      $('#s1').hide(500)
      $('#s2').show(500)
      $('#t2').hide(500)
    })

    $('#s2').on('click', function(){
      $('#t1').hide(500)
      $('#s1').show(500)
      $('#s2').hide(500)
      $('#t2').show(500)
    })
  })
</script>